webpackJsonp([3],{"4fSJ":function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[t._m(0),t._v(" "),s("div",{staticClass:"play w1760 clearfix",attrs:{id:"box"}},[s("div",{staticClass:"playbox l",attrs:{id:"myframe"}},[s("img",{attrs:{src:t.info.image,width:t.width,height:t.height}})]),t._v(" "),s("div",{staticClass:"playinfo r"},[s("dl",{staticClass:"playtext"},[s("dt",[t._v(t._s(t.info.course_name))]),t._v(" "),s("dd",[t._v(t._s(t.info.description))]),t._v(" "),s("dd",[t._v(t._s(t.aaa))])]),t._v(" "),s("ul",{staticClass:"playtoolbar clearfix"},[s("li",{directives:[{name:"items",rawName:"v-items",value:{default:!0},expression:"{default:true}"}],staticClass:"item_one",on:{click:function(e){t.broadcast()},left:t.historyLeft,down:t.down,up:t.up}},[s("img",{attrs:{src:i("Vtx8"),alt:""}})]),t._v(" "),s("li",{directives:[{name:"items",rawName:"v-items"}],staticClass:"item_two",on:{click:function(e){t.collect()},down:t.down,up:t.up}},[s("img",{attrs:{src:t.collectlogoUrl,alt:""}})]),t._v(" "),s("li",{directives:[{name:"items",rawName:"v-items"}],staticClass:"item_three",on:{click:function(e){t.buy()},down:t.down,up:t.up}},[s("img",{attrs:{src:i("iru3"),alt:""}})])])])]),t._v(" "),s("div",{staticClass:"tjbox w1760 clearfix item_list"},[s("h2",[t._v("相关推荐")]),t._v(" "),s("ul",{staticClass:"clearfix l"},t._l(t.commtend,function(e,i){return s("li",{directives:[{name:"items",rawName:"v-items"}],key:i,on:{right:function(s){t.commtend_right(e,i)},up:function(s){t.commtend_up(e,i)},down:t.down,focus:function(s){t.focus(e,i,0)},blur:function(s){t.blur(e,i,0)},click:function(s){t.broadcast_list(e,i)},left:function(s){t.left(e,i)}}},[s("span",{staticClass:"pic",attrs:{href:"#"}},[s("img",{attrs:{src:e.image}}),t._v(" "),s("div",{staticClass:"title"},[s("h4",{staticClass:"move"},[t._v(t._s(e.course_name))])]),t._v(" "),1==e.isfree?s("div",{staticClass:"mianfei"},[t._v("免费")]):t._e(),t._v(" "),2==e.isfree?s("div",{staticClass:"mianfei"},[t._v("收费")]):t._e()])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"titbar w1760"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:i("Urh1")}})])])}]};e.a=s},"5usd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("b9Ah"),o=i.n(s);for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);var n=i("4fSJ");var r=function(t){i("m837")},l=i("VU/8")(o.a,n.a,!1,r,"data-v-3ada320c",null);e.default=l.exports},MQzl:function(t,e,i){t.exports=i.p+"static/img/quxiao.9aa9562.png"},Vtx8:function(t,e,i){t.exports=i.p+"static/img/bofang.5ae3b00.png"},XZIo:function(t,e,i){t.exports=i.p+"static/img/shoucang.d05fe4d.png"},b9Ah:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=c(i("mvHQ")),o=c(i("bOdI")),a=c(i("cfKf")),n=(c(i("qAAi")),c(i("pTuR"))),r=c(i("KHcI")),l=c(i("yv+2"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"proadcast",components:{PublicLogo:a.default},data:function(){var t;return t={collectlogoUrl:"",collectText:"",collecturl:{y:i("MQzl"),n:i("XZIo")},operation_type:"",isActive:!0,btnArr:[],fetchParam:{page:1,pagesize:6},myindex:"",total:void 0,pageNum:0,info:[],selectWorks:[],code:"",bigVideo:"",smallVideo:"",dd:"",commtend:[],url:"",userToken:"",userID:"",ISAUTHORIZATION:"",PARENTCODE:"",PLAYTYPE:"",BACKURL:"",SPID:"",ISLOOP:"",myinfo:{url:"",dom:""},width:"",height:"",clientHeight:"",buyUrl:"",accNbr:"",prodId:"",transactionID:"",useToken:"",prodPrice:"",prodName:"",systemCd:"",channelCd:"",reqTime:"",autherKey:"",bakUrl:""},(0,o.default)(t,"SPID",""),(0,o.default)(t,"picUrl",""),(0,o.default)(t,"buyInfo",""),(0,o.default)(t,"newbuyInfo",""),(0,o.default)(t,"orderUrl",""),(0,o.default)(t,"rspDesc",""),(0,o.default)(t,"rspCode",""),(0,o.default)(t,"aaa",""),t},created:function(){this.parnter=r.default.getPublicvalue("parnter"),this.myinfo.url=window.location.href,this.getUserid()},mounted:function(){var t=this;setTimeout(function(){t.getData(),t.$service.move(t.$service.pointer),t.$service.pointer.$el.scrollIntoView(!1)},300);var e=document.body.clientWidth,i=r.default.getPublicvalue("parnter");"huawei"==i?document.getElementsByTagName("html")[0].setAttribute("style","font-size: "+e/19.29+"px !important"):"zte"==i?document.getElementsByTagName("html")[0].setAttribute("style","font-size: "+e/17.09+"px !important"):document.getElementsByTagName("html")[0].setAttribute("style","font-size: "+e/19.29+"px !important")},methods:{getUserid:function(){this.userID=Authentication.CTCGetConfig("UserID")},focus:function(t,e,i){l.default.horse(e,i)},blur:function(t,e,i){l.default.blurHorse(e,i)},left:function(t,e){if(e%4==0)return!1;this.$service.move("left")},gocollect:function(){r.default.setPublicvalue("collectPath",{path:this.$route.path,id:this.$route.query.courseid}),this.$router.push({path:"/collect"}),r.default.setPublicvalue("topTitle",{type:"collect"}),r.default.clearCurrent("downCurrent")},goHistory:function(){r.default.setPublicvalue("watchHistoryPath",{path:this.$route.path,id:this.$route.query.courseid}),this.$router.push({path:"/watchHistory"}),r.default.setPublicvalue("topTitle",{type:"history"}),r.default.clearCurrent("downCurrent")},broadcast:function(){window.location.href=this.bigVideo},collect:function(){var t=this;"取消"==this.collectText?this.operation_type=1:this.operation_type=0;var e={tv_user_id:this.userID,course_id:this.$route.query.courseid,operation_type:this.operation_type};n.default.collectCourse(e).then(function(e){console.log(t.operation_type),0==t.operation_type?(t.$toast({content:"收藏成功",type:"success",onShow:function(){},onHide:function(){}}),t.collectlogoUrl=t.collecturl.y,t.collectText="取消"):(t.$toast({content:"取消成功",type:"success",onShow:function(){},onHide:function(){}}),t.collectlogoUrl=t.collecturl.n,t.collectText="收藏")})},buyOrder:function(){this.url=Authentication.CTCGetConfig("EPGDomain");var t=this.url.match(/http.*:\/\/\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}:\d{1,1000000}/);t.length>0&&(t=t[0],0==this.GLOBAL.debug||(this.orderUrl=t+"/orderInterface/order/orderRelationSearch"))},buy:function(){this.url=Authentication.CTCGetConfig("EPGDomain"),this.accNbr=Authentication.CTCGetConfig("UserID"),this.prodId=this.code,this.transactionID="channelCd+yyyyyMMddHHmmssfff+8位随机码",this.useToken=Authentication.CTCGetConfig("UserToken"),this.prodPrice=10,this.prodName="1212",this.systemCd="",this.channelCd="",this.reqTime="20190927162222",this.autherKey="",this.bakUrl=window.location.href,this.SPID="XMHD",this.picUrl="",this.buyInfo={accNbr:this.accNbr,prodId:this.prodId,transactionID:this.transactionID,useToken:this.useToken,prodPrice:this.prodPrice,prodName:this.prodName,systemCd:this.systemCd,channelCd:this.channelCd,reqTime:this.reqTime,autherKey:this.autherKey,bakUrl:this.bakUrl,SPID:this.SPID,picUrl:this.picUrl};var t=this.url.match(/http.*:\/\/\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}:\d{1,1000000}/);t.length>0&&(t=t[0],0==this.GLOBAL.debug||(this.newbuyInfo=(0,s.default)(this.buyInfo),this.buyUrl=t+"/xxxxxxx/tyDicEpg/jsp/orderIndex.jsp?INFO="+this.newbuyInfo))},broadcast_list:function(t,e){var i=this,s={courseid:t.contentid};n.default.courseInfo(s).then(function(t){i.code=t.data.info.video_code,i.auth(),i.broadcast()})},getscrollIntoView:function(t){this.$service.pointer.$el.scrollIntoView(t)},auth:function(){this.url=Authentication.CTCGetConfig("EPGDomain"),this.userToken=Authentication.CTCGetConfig("UserToken"),this.userID=Authentication.CTCGetConfig("UserID"),this.dd=navigator.userAgent,this.code=this.code,this.PARENTCODE=this.code,this.PLAYTYPE=2,this.ISAUTHORIZATION=0,this.BACKURL=encodeURI(window.location.href),this.SPID="XMHD",this.ISLOOP=0,this.width=document.getElementById("myframe").offsetWidth,this.height=document.getElementById("myframe").offsetHeight;var t=document.getElementById("myframe").offsetWidth,e=document.getElementById("myframe").offsetHeight,i=document.getElementById("box").offsetLeft,s=document.getElementById("box").offsetTop;console.log("width:"+t+"height:"+e+"left:"+i+"top:"+s);var o=this.url.match(/http.*:\/\/\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}:\d{1,1000000}/);if(o.length>0)if(o=o[0],0==this.GLOBAL.debug){var a=r.default.getPublicvalue("parnter");"huawei"==a?(this.bigVideo=o+"/EPG/jsp/zyfz/en/test/play/play_auth.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&USERID="+this.userID+"&USERTOKEN="+this.userToken+"&PLAYTYPE="+this.PLAYTYPE+"&SPID="+this.SPID+"&BACKURL="+this.BACKURL,this.smallVideo=o+"/EPG/jsp/zyfz/en/test/smallplay/smallplay.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&ISLOOP="+this.ISLOOP+"&WIDTH="+t+"&HEIGHT="+e+"&LEFT="+i+"&TOP="+s):"zte"==a?(this.bigVideo=o+"/iptvepg/frame223/test/zteplay/play_auth.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&USERID="+this.userID+"&USERTOKEN="+this.userToken+"&PLAYTYPE="+this.PLAYTYPE+"&SPID="+this.SPID+"&BACKURL="+this.BACKURL,this.smallVideo=o+"/iptvepg/frame223/test/smallplay/smallplay.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&ISLOOP="+this.ISLOOP+"&WIDTH="+t+"&HEIGHT="+e+"&LEFT="+i+"&TOP="+s):(this.bigVideo=o+"/EPG/jsp/zyfz/en/test/play/play_auth.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&USERID="+this.userID+"&USERTOKEN="+this.userToken+"&PLAYTYPE="+this.PLAYTYPE+"&SPID="+this.SPID+"&BACKURL="+this.BACKURL,this.smallVideo=o+"/EPG/jsp/zyfz/en/test/smallplay/smallplay.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&ISLOOP="+this.ISLOOP+"&WIDTH="+t+"&HEIGHT="+e+"&LEFT="+i+"&TOP="+s)}else{var n=r.default.getPublicvalue("parnter");"huawei"==n?(this.bigVideo=o+"/EPG/jsp/zyfz/en/play/play_auth.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&USERID="+this.userID+"&USERTOKEN="+this.userToken+"&PLAYTYPE="+this.PLAYTYPE+"&SPID="+this.SPID+"&BACKURL="+this.BACKURL,this.smallVideo=o+"/EPG/jsp/zyfz/en/smallplay/smallplay.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&ISLOOP="+this.ISLOOP+"&WIDTH="+t+"&HEIGHT="+e+"&LEFT="+i+"&TOP="+s):"zte"==n?(this.bigVideo=o+"/iptvepg/frame223/zteplay/play_auth.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&USERID="+this.userID+"&USERTOKEN="+this.userToken+"&PLAYTYPE="+this.PLAYTYPE+"&SPID="+this.SPID+"&BACKURL="+this.BACKURL,this.smallVideo=o+"/iptvepg/frame223/smallplay/smallplay.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&ISLOOP="+this.ISLOOP+"&WIDTH="+t+"&HEIGHT="+e+"&LEFT="+i+"&TOP="+s):(this.bigVideo=o+"/EPG/jsp/zyfz/en/play/play_auth.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&USERID="+this.userID+"&USERTOKEN="+this.userToken+"&PLAYTYPE="+this.PLAYTYPE+"&SPID="+this.SPID+"&BACKURL="+this.BACKURL,this.smallVideo=o+"/EPG/jsp/zyfz/en/smallplay/smallplay.jsp?CODE="+this.code+"&PARENTCODE="+this.PARENTCODE+"&ISLOOP="+this.ISLOOP+"&WIDTH="+t+"&HEIGHT="+e+"&LEFT="+i+"&TOP="+s)}},getData:function(){var t=this;if(this.$route.query.courseid)var e={courseid:this.$route.query.courseid,tv_user_id:"123"};else if(this.$route.query.data_list)e={courseid:this.$route.query.courseid,tv_user_id:"123"};n.default.courseInfo(e).then(function(e){t.info=e.data.info,1==t.info.favorite?(t.collectlogoUrl=t.collecturl.y,t.collectText="取消"):(t.collectlogoUrl=t.collecturl.n,t.collectText="收藏"),t.commtend=e.data.recommend,t.code=e.data.info.video_code,t.auth(),t.getSelectData()})},getSelectData:function(){var t=this,e={catid:this.info.category_id,page:this.fetchParam.page,pagesize:this.fetchParam.pagesize};n.default.courseList(e).then(function(e){t.selectWorks=e.data.list,t.total=e.data.count,t.btnArr=[],t.sort()})},serviceBack:function(){var t=r.default.getPublicvalue("historyPath");this.$router.push({path:t.path,query:{id:t.id,type:t.type}})},commtendList:function(){this.$service.move("down"),this.getscrollIntoView(!1)},sort:function(){for(var t=[],e=[],i=0,s=0,o=0;o<this.total;o++)t.push(o+1);for(var a=parseInt(t.length/6)+(t.length%6>0?1:0),n=0;n<a;n++){var r=t.slice(0,6);t.splice(0,6),e.push(r),i=r.shift(),""==(s=r.slice(-1))?this.btnArr.push({text:i}):this.btnArr.push({text:i+"-"+s})}},fullLeft:function(){},historyLeft:function(){},down:function(t,e){this.getscrollIntoView(!0),this.$service.move("down")},carousel_left:function(t,e){2==e?this.$service.move(this.$el.querySelectorAll(".item_commtend")[1]):this.$service.move("left")},up:function(t,e){return!1},carousel_right:function(t,e){2!=e&&5!=e&&e!=this.selectWorks.length-1&&this.$service.move("right")},commtend_right:function(t,e){e!=this.commtend.length-1&&this.$service.move("right")},commtend_up:function(t,e){e<=3?(this.getscrollIntoView(!1),console.log(this.$el.querySelectorAll(".item_one")[0]),this.$service.move(this.$el.querySelectorAll(".item_one")[0])):(this.getscrollIntoView(!1),this.$service.move("up"))},btn_left:function(t,e){this.$service.move(this.$el.querySelectorAll(".btn_item")[e-1]),this.fetchParam.page=e,console.log(this.fetchParam.page),this.getSelectData()},btn_right:function(t,e){e!=this.btnArr.length-1&&(this.$service.move(this.$el.querySelectorAll(".btn_item")[e+1]),this.fetchParam.page=e+2,console.log(this.fetchParam.page),this.getSelectData(),this.isActive=!1)},btn_down:function(t,e){if(this.isActive=!1,this.$service.move("down"),e!=this.btnArr.length-1){for(var i=void 0,s=this.$service.pointer.$el,o=this.$el.querySelectorAll(".btn_item"),a=0;a<o.length;a++)o[a]==s&&(i=a+1);this.fetchParam.page=i,this.getSelectData()}},btn_up:function(t,e){this.fetchParam.page=e+1,console.log(this.fetchParam.page),this.getSelectData(),this.$service.move("up")}}}},iru3:function(t,e,i){t.exports=i.p+"static/img/buy.c11be07.png"},m837:function(t,e){}});
//# sourceMappingURL=3.aa1a5d57b38c3ffe7e90.js.map